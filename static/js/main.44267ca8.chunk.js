(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{30:function(e,t,o){},31:function(e,t,o){},32:function(e,t,o){},35:function(e,t,o){"use strict";o.r(t);var c,n=o(25),r=o.n(n),l=o(13),a=(o(30),o(31),o(32),o(5)),i=o(0),u=o(2),s=o(3),d=function(e){var t=e.addTodo,o=Object(i.useState)(""),c=Object(a.a)(o,2),n=c[0],r=c[1],l=Object(i.useRef)(null);Object(i.useEffect)((function(){var e;null===(e=l.current)||void 0===e||e.focus()}),[]);return Object(s.jsxs)("header",{className:"header",children:[Object(s.jsx)("h1",{children:"todos"}),Object(s.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),n.trim()){var o={id:Date.now(),completed:!1,title:n};t(o)}r("")},children:Object(s.jsx)("input",{ref:l,onChange:function(e){r(e.target.value)},value:n,type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?"})})]})},j=o(7),f=function(){var e=function(e,t){var o=Object(i.useState)((function(){var o=window.localStorage.getItem(e);return o?JSON.parse(o):t})),c=Object(a.a)(o,2),n=c[0],r=c[1];return[n,function(t){r(t),window.localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),t=Object(a.a)(e,2),o=t[0],c=t[1];return[o,function(e){var t=[].concat(Object(j.a)(o),[e]);c(t)},function(e){var t=o.filter((function(t){return!e.includes(t.id)}));c(t)},function(e){var t=o.map((function(t){var o=e.find((function(e){return e.id===t.id}));return o||t}));c(t)}]},b=o(10),m=o(22),p=o.n(m),O=function(e){var t=e.toggleTodo,o=e.removeTodo,c=e.todo,n=e.setChangeTitle,r=Object(i.useState)(c.title),l=Object(a.a)(r,2),u=l[0],d=l[1],j=Object(i.useState)(!1),f=Object(a.a)(j,2),m=f[0],p=f[1],O=Object(i.useRef)(null);Object(i.useEffect)((function(){O.current&&O.current.focus()}),[m]);var h=function(){if(p(!1),u!==c.title){if(!u.trim())return o([c.id]),void n(null);t([Object(b.a)(Object(b.a)({},c),{},{title:u})]),n(null)}else n(null)},v=c.completed,g=c.id,x=c.title;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"view",onDoubleClick:function(){return function(e){p(!0),n(e)}(g)},children:[Object(s.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view",checked:v,onClick:function(e){var o;e.stopPropagation(),o=c,t([Object(b.a)(Object(b.a)({},o),{},{completed:!c.completed})])}}),Object(s.jsx)("label",{children:x}),Object(s.jsx)("button",{"aria-label":"Delete todo",type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return function(e){o([e])}(g)}})]}),Object(s.jsx)("input",{ref:O,type:"text",className:"edit",onChange:function(e){d(e.target.value)},value:u,onBlur:h,onKeyUp:function(e){"Enter"!==e.key?"Escape"===e.key&&(d(c.title),n(null),p(!1)):h()},placeholder:"Empty todo will be deleted"})]})},h=function(e){var t=e.hasCompletedTodo,o=e.todos,c=e.toggleTodo,n=e.removeTodo,r=Object(i.useState)(null),l=Object(a.a)(r,2),u=l[0],d=l[1];return Object(s.jsxs)("section",{className:"main",children:[Object(s.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:t,onClick:function(){var e=o.filter((function(e){return!e.completed}));e.length||(e=Object(j.a)(o)),c(e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{completed:!e.completed})})))}}),Object(s.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(s.jsx)("ul",{className:"todo-list","data-cy":"todosList",children:o.map((function(e){var t=e.id,o=e.completed;return Object(s.jsx)("li",{className:p()({completed:o},{editing:u===t}),children:Object(s.jsx)(O,{toggleTodo:c,removeTodo:n,todo:e,setChangeTitle:d})},t)}))})]})};!function(e){e.ALL="/",e.ACTIVE="/active",e.COMPLETED="/completed"}(c||(c={}));var v=[{title:"All",to:c.ALL},{title:"Active",to:c.ACTIVE},{title:"Completed",to:c.COMPLETED}],g=function(e){var t=e.completedTodosCounter,o=e.todos,c=e.removeTodo,n=o.some((function(e){return!0===e.completed}));return Object(s.jsxs)("footer",{className:"footer",children:[Object(s.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(o.length-t," items left")}),Object(s.jsx)("ul",{className:"filters","data-cy":"todosFilter",children:v.map((function(e){var t=e.title,o=e.to;return Object(s.jsx)("li",{children:Object(s.jsx)(l.b,{to:o,className:function(e){var t=e.isActive;return p()({selected:t})},replace:!0,children:t})},t)}))}),n&&Object(s.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){var e=o.filter((function(e){return!0===e.completed}));c(e.map((function(e){return e.id})))},children:"Clear completed"})]})},x=function(){var e=f(),t=Object(a.a)(e,4),o=t[0],n=t[1],r=t[2],l=t[3],j=Object(i.useMemo)((function(){return o.reduce((function(e,t){return t.completed?e+1:e}),0)}),[o]),b=Object(u.i)().pathname,m=Object(i.useMemo)((function(){return!o.some((function(e){return!1===e.completed}))}),[o]),p=function(e,t){switch(t){case c.ACTIVE:return e.filter((function(e){return!1===e.completed}));case c.COMPLETED:return e.filter((function(e){return!0===e.completed}));default:return e}}(o,b);return Object(s.jsxs)("div",{className:"todoapp",children:[Object(s.jsx)(d,{addTodo:n}),!!o.length&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(h,{toggleTodo:l,removeTodo:r,hasCompletedTodo:m,todos:p}),Object(s.jsx)(g,{completedTodosCounter:j,todos:o,removeTodo:r})]})]})};r.a.render(Object(s.jsx)(l.a,{children:Object(s.jsx)(x,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.44267ca8.chunk.js.map